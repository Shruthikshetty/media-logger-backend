#
# This file contains the swagger request and response for media entries routes
#

components:
  schemas:
    MediaEntryStatus:
      type: string
      enum:
        - Planning
        - Playing
        - Watching
        - Completed
        - Dropped

    MediaModel:
      type: string
      description: refers the media collection name
      enum:
        - Game
        - Movie
        - TVShow

    MediaEntries:
      type: object
      description: contains user entries on a media item
      properties:
        _id:
          type: string
          description: Unique identifier for media item
          example: 630f06f6f80f0c456d5d3e13
          readOnly: true
        user:
          type: string
          description: user unique identifier
          example: 630f06f6f80f0c456d5d3e11
          readOnly: true
        mediaItem:
          type: string
          description: media item unique identifier
          example: 630f06f6f80f0c456d5d3e12
        onModel:
          $ref: '#/components/schemas/MediaModel'
        status:
          $ref: '#/components/schemas/MediaEntryStatus'
        rating:
          type: number
          example: 4
        createdAt:
          type: string
          format: date-time
          example: '2022-01-01T00:00:00.000Z'
          readOnly: true
        updatedAt:
          type: string
          format: date-time
          example: '2022-01-01T00:00:00.000Z'
          readOnly: true

  requestBodies:
    AddMediaEntryRequest:
      description: Request body for adding a media entry
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/MediaEntries'

    UpdateMediaEntryRequest:
      description: Request body for updating a media entry
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              status:
                $ref: '#/components/schemas/MediaEntryStatus'
              rating:
                type: number
                min: 0
                max: 10
                example: 4

    FilterMediaEntryRequest:
      description: Request body for filtering media entries
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              limit:
                type: number
                description: by default it will return everything
                example: 5
              page:
                type: number
                example: 1
              status:
                $ref: '#/components/schemas/MediaEntryStatus'
              rating:
                type: number
                min: 0
                max: 10
                example: 4
              onModel:
                $ref: '#/components/schemas/MediaModel'
              sortBy:
                enum:
                  - createdAt
                  - rating
                  - status
                type: string
                example: createdAt
                default: createdAt
              sortOrder:
                enum:
                  - asc
                  - desc
                type: string
                example: asc
                default: desc

  responses:
    AddMediaEntrySuccessResponse:
      description: Success response for adding a media entry
      content:
        application/json:
          schema:
            type: object
            properties:
              success:
                type: boolean
                example: true
              requestId:
                type: string
                example: 'aa636e0e-13e8-472c-874c-3aac8ae00000'
              data:
                $ref: '#/components/schemas/MediaEntries'
              message:
                type: string
                example: 'Media entry created successfully'

    GetAllUserMediaEntriesSuccessResponse:
      description: Success response for getting all user media entries
      content:
        application/json:
          schema:
            type: object
            properties:
              success:
                type: boolean
                example: true
              requestId:
                type: string
                example: 'aa636e0e-13e8-472c-874c-3aac8ae00000'
              data:
                type: object
                properties:
                  mediaEntries:
                    type: array
                    items:
                      $ref: '#/components/schemas/MediaEntries'
                  pagination:
                    $ref: '#/components/schemas/pagination'

    GetSingleMediaEntrySuccessResponse:
      description: Success response for getting a single media entry
      content:
        application/json:
          schema:
            type: object
            properties:
              success:
                type: boolean
                example: true
              requestId:
                type: string
                example: 'aa636e0e-13e8-472c-874c-3aac8ae00000'
              data:
                $ref: '#/components/schemas/MediaEntries'

    DeleteMediaEntrySuccessResponse:
      description: Success response for deleting a media entry
      content:
        application/json:
          schema:
            type: object
            properties:
              success:
                type: boolean
                example: true
              requestId:
                type: string
                example: 'aa636e0e-13e8-472c-874c-3aac8ae00000'
              message:
                type: string
                example: 'Media entry deleted successfully'

    UpdateMediaEntrySuccessResponse:
      description: Success response for updating a media entry
      content:
        application/json:
          schema:
            type: object
            properties:
              success:
                type: boolean
                example: true
              requestId:
                type: string
                example: 'aa636e0e-13e8-472c-874c-3aac8ae00000'
              data:
                $ref: '#/components/schemas/MediaEntries'
              message:
                type: string
                example: 'Media entry updated successfully'
