#
# file contains all the swagger schema and req and response bodies for tv-show
#

components:
  schemas:
    TvShow:
      type: object
      required:
        - title
        - description
        - genre
        - releaseDate
        - runTime
        - status
        - totalSeasons
        - totalEpisodes
      properties:
        title:
          type: string
          description: The title of the TV show.
          example: 'Breaking Bad'
        description:
          type: string
          description: A brief summary of the show.
          example: 'A high school chemistry teacher turned methamphetamine producer navigates the dangers of the criminal underworld.'
        averageRating:
          type: number
          description: The average rating of the TV show, on a scale of 0 to 10.
          format: float
          maximum: 10
          example: 9.5
        genre:
          type: array
          description: List of genres for the TV show.
          items:
            $ref: '#/components/schemas/GenreMovieTvEnum'
          example: ['Drama', 'Crime']
        releaseDate:
          type: string
          description: The release date (ISO format, e.g., YYYY-MM-DD).
          example: '2008-01-20'
        cast:
          type: array
          description: List of cast members.
          items:
            type: string
          example: ['Bryan Cranston', 'Aaron Paul']
        directors:
          type: array
          description: List of directors.
          items:
            type: string
          example: ['Vince Gilligan']
        runTime:
          type: integer
          description: Runtime of each episode, in minutes.
          example: 47
        languages:
          type: array
          description: List of spoken languages.
          items:
            type: string
          example: ['English', 'Spanish']
        posterUrl:
          type: string
          description: URL for the poster image.
          example: 'http://example.com/poster.jpg'
        backdropUrl:
          type: string
          description: URL for the backdrop image.
          example: 'http://example.com/backdrop.jpg'
        isActive:
          type: boolean
          description: Indicates if the show is currently active in the system.
          default: true
          example: true
        status:
          type: string
          description: The current status of the media.
          enum: ['released', 'upcoming']
          example: 'ended'
        tags:
          type: array
          description: List of tag strings.
          items:
            $ref: '#/components/schemas/TagsMovieTvEnum'
        totalSeasons:
          type: integer
          description: Total number of seasons.
          example: 5
        totalEpisodes:
          type: integer
          description: Total number of episodes.
          example: 62
        ageRating:
          type: integer
          description: Suggested viewer age rating.
          example: 18

    TvShowResponseFlat:
      allOf:
        - $ref: '#/components/schemas/TvShow'
      properties:
        seasons:
          type: array
          items:
            $ref: '#/components/schemas/SeasonResponseFlat'

    TvShowResponseFull:
      allOf:
        - $ref: '#/components/schemas/TvShow'
      properties:
        seasons:
          type: array
          items:
            $ref: '#/components/schemas/SeasonResponseFull'

  requestBodies:
    AddTvShowBody:
      description: The request body for creating a new TV Show.
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/TvShowResponseFull'
          example:
            title: 'Fleabag'
            description: 'A dry-witted woman, known only as Fleabag, navigates life and love in London while trying to cope with tragedy.'
            averageRating: 8.7
            genre: ['Comedy', 'Drama']
            releaseDate: '2016-07-21'
            cast: ['Phoebe Waller-Bridge', 'Sian Clifford', 'Olivia Colman']
            directors: ['Harry Bradbeer']
            runTime: 27
            languages: ['English']
            posterUrl: 'https://m.media-amazon.com/images/M/MV5B...'
            backdropUrl: 'https://www.themoviedb.org/t/p/original/...'
            isActive: true
            status: 'released'
            tags:
              - 'Award-winning'
              - 'Character-driven'
              - 'Dialogue-heavy'
              - 'Satirical'
            totalSeasons: 2
            totalEpisodes: 12
            ageRating: 16
            seasons:
              - seasonNumber: 1
                title: 'Season 1'
                description: 'Fleabag navigates...'
                releaseDate: '2016-07-21'
                noOfEpisodes: 6
                posterUrl: 'https://www.themoviedb.org/t/p/w220_and_h330_face/ohh0255e0x9a8y6eSyrDLi2hM96.jpg'
                seasonRating: 8.5
                status: ended
                trailerYoutubeUrl: 'https://www.youtube.com/watch?v=I5Uv6cb9YRs'
                episodes:
                  - title: 'Episode 1'
                    description: 'Fleabag tries...'
                    episodeNumber: 1
                    runTime: 27
                  - title: 'Episode 2'
                    description: 'With the cafe struggling...'
                    episodeNumber: 2
                    runTime: 26

  responses:
    TvShowResponse:
      description: A single TV Show object including seasons and episodes.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/TvShowResponseFull'
          example:
            success: true
            message: 'Tv show created successfully'
            data:
              tvShow:
                title: 'Fleabag'
                description: 'A dry-witted woman, known only as Fleabag, navigates life and love in London while trying to cope with tragedy.'
                averageRating: 8.7
                genre: ['Comedy', 'Drama']
                releaseDate: '2016-07-21'
                cast: ['Phoebe Waller-Bridge', 'Sian Clifford', 'Olivia Colman']
                directors: ['Harry Bradbeer']
                runTime: 27
                languages: ['English']
                posterUrl: 'https://m.media-amazon.com/images/...jpg'
                backdropUrl: 'https://www.themoviedb.org/t/p/original/...jpg'
                isActive: true
                status: 'released'
                tags:
                  - 'Award-winning'
                  - 'Character-driven'
                  - 'Dialogue-heavy'
                  - 'Satirical'
                totalSeasons: 2
                totalEpisodes: 12
                ageRating: 16
                seasons:
                  - seasonNumber: 1
                    title: 'Season 1'
                    description: 'Fleabag navigates the minefield of her family and dating life while dealing with the recent death of her best friend.'
                    releaseDate: '2016-07-21'
                    noOfEpisodes: 6
                    posterUrl: 'https://www.themoviedb.org/t/...jpg'
                    seasonRating: 8.5
                    status: ended
                    trailerYoutubeUrl: 'https://www.youtube.com/watch?v=I5Uv6cb9YRs'
                    episodes:
                      - title: 'Episode 1'
                        description: 'Fleabag tries to navigate a tricky family lunch and a one-night stand.'
                        episodeNumber: 1
                        runTime: 27
                      - title: 'Episode 2'
                        description: 'With the cafe struggling, Fleabag asks her sister for money...'
                        episodeNumber: 2
                        runTime: 26
